<tbody>
<%for(var i=0;i<users.length;i++){ %>


    <tr>
        <td><%=i+1%></td>
        <td><%=users[i].name %></td>
        <td><%= users[i].email %></td>
      
        <td><%= users[i].gender %></td>
        <td><%= users[i].status %></td>
        <td>
            <a href="/update-user?id=<%=users[i]._id %>" class=" btn border update">
                <span><img src="images/icons/edit.png" alt="update"></span>
            </a>
            <button class=" btn border delete" id="delete" onclick="deleteUser(users[i].id)" data-id=<%=users[i]._id %> >
                <span class="text-gradient"><img src="images/icons/remove.png" alt="delete"></span>
            </button>
        </td>
    </tr>

<% } %>
<% 

async function deleteUser(id) {
    try {
      const response = await fetch(`http://localhost:5000/api/users/delete/${id}`, { method: 'DELETE' });
      if (response.ok) {
      } else {
        // handle error
      }
    } catch (error) {
      console.error(error);
    }
  }
  
%>

</tbody>
</table>